10 ER=0
20 PRINT "Writing..."
30 FOR AD=0 TO 4095
40 DT=AD MOD 256
50 OUT &HB3,&H80
60 OUT &HB2,DT
70 OUT &HB0,AD AND &B11111111
80 OUT &HB1,(AD\256) OR &B01000000
90 OUT &HB1,(AD\256) OR &B00000000
100 IF AD MOD 256= 0 THEN PRINT AD
110 NEXT AD
120 PRINT "Verifying..."
130 FOR AD=0 TO 4095
140 OUT &HB3,&H89
150 OUT &HB0,AD AND &B11111111
160 OUT &HB1,(AD\256) OR &B11000000
170 DT=INP(&HB2)
180 OUT &HB1,(AD\256) OR &B10000000
190 IF AD MOD 256 <> DT THEN PRINT HEX$(AD)+" DT: "+HEX$(DT):ER=ER+1
200 IF AD MOD 256= 0 THEN PRINT AD
210 NEXT AD
220 PRINT "Errors: "+STR$(ER)
230 END
